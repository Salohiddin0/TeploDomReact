import React, { useEffect, useState } from 'react'
import { useLocation, useParams } from 'react-router-dom'

const ProductDetailPage = () => {
  const [quantity, setQuantity] = useState(1)
  const [product, setProduct] = useState(null)
  const { id } = useParams()

  useEffect(() => {
    fetch('http://localhost:8080/ProductCard/' + id)
      .then(response => response.json())
      .then(data => {
        setProduct(data)
        element.scrollTo(0, 1000)
      })
  }, [id])

  const incrementQuantity = () => setQuantity(prev => prev + 1)
  const decrementQuantity = () => setQuantity(prev => (prev > 1 ? prev - 1 : 1))

  return (
    <div className='w-full bg-[#FAFAFA] min-h-screen py-4 sm:py-8'>
      <div className='max-w-7xl mx-auto px-4 bg-white rounded-[20px]'>
        <div className='flex flex-col lg:flex-row lg:gap-[55px] w-[1110px] h-[512px]'>
          <div className='lg:w-[424px]'>
            <div className='bg-white p-4 sm:p-8 rounded-lg'>
              <div className='border p-3 sm:p-5 rounded-lg'>
                <img
                  src={product?.img}
                  alt='Penoplex Base Insulation'
                  className='w-full object-cover rounded-lg'
                />
              </div>
            </div>
          </div>

          <div className='lg:w-1/2 space-y-4 sm:space-y-6 p-4 sm:p-0 sm:mt-[20px]'>
            <h1 className='text-2xl sm:text-3xl font-bold text-gray-900'>
              Пеноплекс Основа
            </h1>

            <div className='space-y-4'>
              <p className='text-sm sm:text-base text-[#000000] leading-relaxed'>
                Синтетический теплоизоляционный материал, впервые созданный в
                США в 1941 году. Экструзионный пенополистирол имеет широкую
                сферу применения.
              </p>

              <div className='flex items-center gap-2 text-[#000000]'>
                <svg
                  width='25'
                  height='25'
                  viewBox='0 0 30 22'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M0.599609 5.1502C0.599609 3.83737 1.12113 2.57832 2.04943 1.65002C2.97774 0.721711 4.23679 0.200195 5.54961 0.200195H24.4496C25.7624 0.200195 27.0215 0.721711 27.9498 1.65002C28.8781 2.57832 29.3996 3.83737 29.3996 5.1502V16.8502C29.3996 18.163 28.8781 19.4221 27.9498 20.3504C27.0215 21.2787 25.7624 21.8002 24.4496 21.8002H5.54961C4.23679 21.8002 2.97774 21.2787 2.04943 20.3504C1.12113 19.4221 0.599609 18.163 0.599609 16.8502V5.1502ZM5.54961 2.0002C4.71418 2.0002 3.91296 2.33207 3.32222 2.92281C2.73148 3.51355 2.39961 4.31476 2.39961 5.1502V16.8502C2.39961 18.589 3.81081 20.0002 5.54961 20.0002H24.4496C25.285 20.0002 26.0863 19.6683 26.677 19.0776C27.2677 18.4868 27.5996 17.6856 27.5996 16.8502V5.1502C27.5996 4.31476 27.2677 3.51355 26.677 2.92281C26.0863 2.33207 25.285 2.0002 24.4496 2.0002H5.54961ZM16.7996 4.7002C16.7996 4.4615 16.8944 4.23258 17.0632 4.0638C17.232 3.89502 17.4609 3.8002 17.6996 3.8002H21.2996C21.5383 3.8002 21.7672 3.89502 21.936 4.0638C22.1048 4.23258 22.1996 4.4615 22.1996 4.7002V8.3002C22.1996 8.53889 22.1048 8.76781 21.936 8.93659C21.7672 9.10538 21.5383 9.2002 21.2996 9.2002C21.0609 9.2002 20.832 9.10538 20.6632 8.93659C20.4944 8.76781 20.3996 8.53889 20.3996 8.3002V6.8728L17.4368 9.8374C17.2678 10.0064 17.0386 10.1013 16.7996 10.1013C16.5606 10.1013 16.3314 10.0064 16.1624 9.8374C15.9934 9.6684 15.8985 9.43919 15.8985 9.2002C15.8985 8.9612 15.9934 8.73199 16.1624 8.563L19.127 5.6002H17.6996C17.4609 5.6002 17.232 5.50537 17.0632 5.33659C16.8944 5.16781 16.7996 4.93889 16.7996 4.7002ZM12.5624 12.163C12.7314 11.994 12.9606 11.8991 13.1996 11.8991C13.4386 11.8991 13.6678 11.994 13.8368 12.163C14.0058 12.332 14.1007 12.5612 14.1007 12.8002C14.1007 13.0392 14.0058 13.2684 13.8368 13.4374L10.8722 16.4002H12.2996C12.5383 16.4002 12.7672 16.495 12.936 16.6638C13.1048 16.8326 13.1996 17.0615 13.1996 17.3002C13.1996 17.5389 13.1048 17.7678 12.936 17.9366C12.7672 18.1054 12.5383 18.2002 12.2996 18.2002H8.69961C8.46091 18.2002 8.232 18.1054 8.06321 17.9366C7.89443 17.7678 7.79961 17.5389 7.79961 17.3002V13.7002C7.79961 13.4615 7.89443 13.2326 8.06321 13.0638C8.232 12.895 8.46091 12.8002 8.69961 12.8002C8.9383 12.8002 9.16722 12.895 9.33601 13.0638C9.50479 13.2326 9.59961 13.4615 9.59961 13.7002V15.1276L12.5624 12.163Z'
                    fill='black'
                  />
                </svg>

                <span className='text-sm sm:text-base'>
                  (1.185×0.585)(20мм)
                </span>
              </div>
            </div>

            <div className='text-2xl sm:text-3xl font-bold text-gray-900'>
              14 600 сум
            </div>

            <div className='flex flex-wrap items-center gap-3 sm:gap-4'>
              <button className='flex items-center gap-2 border-2 border-[black] text-white p-1 sm:p-[10px]  rounded-lg transition-colors'>
                <svg
                  width='36'
                  height='36'
                  viewBox='0 0 36 36'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    fill-rule='evenodd'
                    clip-rule='evenodd'
                    d='M21.3448 2.66371C19.2491 3.11234 17.5635 4.81356 17.1311 6.91658C17.0617 7.25441 17.0356 7.7274 17.0356 8.64975V9.91826L14.6097 9.9185C12.2955 9.91868 12.1749 9.92422 11.9875 10.0385C11.8794 10.1044 11.7372 10.2467 11.6713 10.3548C11.5557 10.5445 11.5515 10.6647 11.5513 13.8518L11.5511 17.1524L7.37749 17.1526C3.31917 17.1528 3.19845 17.1561 3.00746 17.2726C2.8994 17.3385 2.75717 17.4808 2.69129 17.5889C2.57365 17.7818 2.57148 17.9061 2.5713 24.4565C2.57106 30.8217 2.57624 31.1443 2.6846 31.4925C2.841 31.9951 3.04489 32.3219 3.4285 32.6849C3.79174 33.0284 4.06922 33.1877 4.55583 33.3321C4.85241 33.42 6.11528 33.4291 17.9958 33.4284C32.0485 33.4276 31.3678 33.4421 31.9778 33.1302C32.3198 32.9553 32.8546 32.4496 33.0497 32.1166C33.1332 31.974 33.2527 31.6932 33.3151 31.4925C33.4244 31.141 33.4287 30.7474 33.4284 20.8394C33.4282 10.6798 33.4267 10.5488 33.3084 10.3548C33.2426 10.2467 33.1003 10.1044 32.9923 10.0385C32.8049 9.92422 32.6843 9.91868 30.3792 9.9185L27.9626 9.91826L27.9235 9.24006C27.9021 8.86708 27.8844 8.29625 27.8842 7.97156C27.883 5.40562 26.0599 3.18034 23.532 2.65931C22.9541 2.54018 21.912 2.54229 21.3448 2.66371ZM23.4305 4.52932C24.3403 4.79674 25.1914 5.47898 25.6036 6.27106C25.9891 7.01201 26.029 7.21806 26.0607 8.63721L26.0893 9.91826H22.503H18.9166L18.8729 8.9859C18.8095 7.63197 18.8998 7.06584 19.3012 6.3012C19.8084 5.3352 20.7792 4.6294 21.8666 4.436C22.2783 4.36282 23.0133 4.40665 23.4305 4.52932ZM17.0961 12.3146C17.0963 12.7947 17.1182 12.9383 17.2161 13.0988C17.571 13.6811 18.4287 13.6811 18.7837 13.0988C18.8815 12.9383 18.9035 12.7947 18.9037 12.3146L18.9039 11.7268H22.52H26.1361L26.1364 12.3146C26.1366 12.7947 26.1585 12.9383 26.2564 13.0988C26.6113 13.6811 27.469 13.6811 27.824 13.0988C27.9218 12.9383 27.9438 12.7947 27.944 12.3146L27.9442 11.7268H29.7831H31.622L31.6063 21.3679C31.5905 30.9991 31.5903 31.0091 31.4662 31.1754C31.3978 31.267 31.2671 31.3978 31.1756 31.4661C31.0128 31.5877 30.9353 31.5908 27.6309 31.6075L24.2527 31.6245L24.3041 31.4869C24.3324 31.4112 24.363 28.2974 24.3723 24.5673C24.3888 17.8797 24.3874 17.7826 24.2687 17.5889C24.2025 17.4808 24.06 17.3385 23.9519 17.2726C23.76 17.1555 23.638 17.1528 18.5573 17.1526L13.3592 17.1524V14.4396V11.7268H15.2275H17.0958L17.0961 12.3146ZM22.5664 24.9849C22.5503 30.9625 22.5492 31.0102 22.4259 31.1754C22.3575 31.267 22.2267 31.3978 22.1352 31.4661C21.9689 31.5903 21.9596 31.5905 13.4797 31.5905C4.99983 31.5905 4.99048 31.5903 4.8242 31.4661C4.73265 31.3978 4.60187 31.267 4.53353 31.1754C4.41022 31.0102 4.40913 30.9625 4.39304 24.9849L4.37683 18.9609H13.4797H22.5826L22.5664 24.9849ZM8.49192 20.8897C8.10963 21.1228 8.05599 21.2955 8.05575 22.2941C8.05551 23.2886 8.14567 23.8545 8.4155 24.5514C8.93785 25.9005 10.158 27.121 11.5068 27.6435C12.7522 28.1259 14.2072 28.1259 15.4526 27.6435C16.8014 27.121 18.0216 25.9005 18.5439 24.5514C18.8137 23.8545 18.9039 23.2886 18.9037 22.2941C18.9035 21.5107 18.8889 21.3785 18.7837 21.2059C18.4327 20.6301 17.5706 20.6234 17.2238 21.1937C17.1324 21.3441 17.1059 21.5464 17.0796 22.2944C17.0583 22.9027 17.0131 23.3225 16.9453 23.5425C16.5681 24.7669 15.6405 25.686 14.4139 26.0506C13.9283 26.1949 13.0311 26.1949 12.5455 26.0506C11.3189 25.686 10.3913 24.7669 10.0141 23.5425C9.94632 23.3225 9.90112 22.9027 9.87979 22.2944C9.85351 21.5464 9.82705 21.3441 9.73563 21.1937C9.57567 20.9306 9.28132 20.7698 8.95954 20.7698C8.79501 20.7698 8.61107 20.817 8.49192 20.8897Z'
                    fill='black'
                  />
                </svg>
              </button>
              <button className='flex items-center gap-2 border-2 border-[black] text-white p-1 sm:p-[10px] rounded-lg transition-colors'>
                <svg
                  width='36'
                  height='36'
                  viewBox='0 0 36 36'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M31.8604 5.55546C31.0242 4.71934 30.0315 4.05617 28.939 3.60387C27.8465 3.15157 26.6755 2.91899 25.493 2.91943C24.3106 2.91988 23.1398 3.15333 22.0476 3.60646C20.9554 4.05958 19.9632 4.72349 19.1277 5.56024L18.0371 6.66415L16.9555 5.56263L16.9485 5.5556C16.1128 4.71987 15.1206 4.05693 14.0287 3.60463C12.9367 3.15233 11.7664 2.91954 10.5845 2.91954C9.4026 2.91954 8.23227 3.15233 7.14034 3.60463C6.0484 4.05693 5.05625 4.71987 4.22052 5.5556L3.73466 6.04146C2.04684 7.72929 1.09863 10.0185 1.09863 12.4054C1.09863 14.7924 2.04684 17.0815 3.73466 18.7694L16.5578 31.5923L18.0058 33.1095L18.0404 33.0749L18.0778 33.1124L19.4346 31.6809L32.3462 18.7692C34.0315 17.08 34.978 14.7913 34.978 12.4052C34.978 10.0191 34.0315 7.73042 32.3462 6.04125L31.8604 5.55546ZM30.7549 17.1782L18.0404 29.893L5.32555 17.1782C4.05969 15.9123 3.34854 14.1954 3.34854 12.4052C3.34854 10.615 4.05969 8.89815 5.32555 7.63228L5.81148 7.14642C7.07673 5.88118 8.79257 5.17008 10.5819 5.16941C12.3712 5.16874 14.0876 5.87855 15.3538 7.14284L18.0322 9.87005L20.7234 7.14642C21.3502 6.51962 22.0943 6.02242 22.9132 5.68319C23.7322 5.34397 24.6099 5.16938 25.4963 5.16938C26.3828 5.16938 27.2605 5.34397 28.0795 5.68319C28.8984 6.02242 29.6425 6.51962 30.2693 7.14642L30.7552 7.63221C32.0191 8.89912 32.729 10.6157 32.7289 12.4053C32.7288 14.1949 32.0189 15.9114 30.7549 17.1782Z'
                    fill='black'
                  />
                </svg>
              </button>
              <div className='flex items-center border rounded-lg border-[#E1E1E1] ml-0 sm:ml-7'>
                <button
                  onClick={decrementQuantity}
                  className='p-2 sm:px-3 sm:p-[10px] text-gray-600 hover:bg-gray-50'
                >
                  <svg
                    width='24'
                    height='24'
                    viewBox='0 0 36 36'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                    className='sm:w-[36px] sm:h-[36px]'
                  >
                    <path
                      d='M30 18H6'
                      stroke='black'
                      strokeWidth='2'
                      strokeLinecap='round'
                    />
                  </svg>
                </button>
                <b className='px-4 sm:px-5 py-2 sm:py-3 border-x text-sm sm:text-base'>
                  {quantity}
                </b>
                <button
                  onClick={incrementQuantity}
                  className='p-2 sm:px-3 sm:p-[10px] text-gray-600 hover:bg-gray-50'
                >
                  <svg
                    width='24'
                    height='24'
                    viewBox='0 0 36 36'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                    className='sm:w-[36px] sm:h-[36px]'
                  >
                    <path
                      d='M18 30V18M18 18V6M18 18H30M18 18H6'
                      stroke='black'
                      strokeWidth='2.5'
                      strokeLinecap='round'
                    />
                  </svg>
                </button>
              </div>
            </div>

            {/* <div className='grid grid-cols-2 gap-4 pt-4 sm:pt-6'>
              <div className='flex items-center gap-3 text-gray-600'>
                <span className='text-sm sm:text-base'>Free Delivery</span>
              </div>
              <div className='flex items-center gap-3 text-gray-600'>
                <span className='text-sm sm:text-base'>Quality Guarantee</span>
              </div>
            </div> */}
          </div>
        </div>
      </div>
    </div>
  )
}

export default ProductDetailPage
